<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tête à Tête - Inscription</title>
    <link rel="stylesheet" href="style/style.css">
</head>
<body>
    <div class="page-container"> <!-- Conteneur principal pour centrer tout le contenu -->
        
        <!-- Conteneur du logo, titre et devise -->
        <div class="header-container">
            <img src="images/logo.png" alt="Logo Tête à Tête" class="logo">
            <h1>Tête à Tête</h1>
            <p>L'application d'entraides</p>
        </div>

        <!-- Conteneur du formulaire (cadre blanc) -->
        <div class="login-container">
            <div class="form-container">
                <form id="registrationForm" action="register.php" method="POST"> <!-- Changer l'action pour register.php -->
                    <input type="text" placeholder="Nom" id="nom" name="nom" required>
                    <input type="text" placeholder="Prénom" id="prenom" name="prenom" required>
                    <input type="email" placeholder="Mail" id="email" name="email" required>
                    <input type="password" placeholder="Mot de passe" id="password" name="password" required>

                    <label for="classe">Classe :</label>
                    <select id="classe" name="classe" required>
                        <option value="" disabled selected>Choisissez votre classe</option>
                        <option value="I1">I1</option>
                        <option value="B1">B1</option>
                        <option value="P1">P1</option>
                        <option value="I2">I2</option>
                        <option value="B2">B2</option>
                        <option value="P2">P2</option>
                        <option value="A1">A1</option>
                        <option value="B3">B3</option>
                        <option value="A2">A2</option>
                        <option value="A3">A3</option>
                    </select>
                    
                    <button id="myBtn" type="submit">S'inscrire</button>
                    <div class="links">
                        <a href="login.html">Déjà inscrit ? Se connecter</a>
                    </div>
                </form>
            </div>
        </div>

        <!-- The Modal -->
        <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content">
                <span class="close">&times;</span>
                <div>
                    <iframe src="documents/CGU.pdf" width="100%" height="150%"></iframe>
                </div>
                <div class="checkbox-container">
                    <input id="checkbox" type="checkbox" value="checkbox">
                    <label for="checkbox">J'ai lu et accepté les conditions generales d'utilisation</label><br>
                </div>
                <style>
                    /* Flexbox container for checkbox and label to align them horizontally */
                    .checkbox-container {
                        display: flex;
                        align-items: center; /* Vertically align the checkbox and label */
                    }
                    #checkbox {
                        margin-right: 10px; /* Add some space between checkbox and label */
                    }
                    label {
                        display: inline-block;
                    }
                </style>
                <div>
                    <button id="myOtherBtn" type="submit">S'inscrire</button>
                </div>
            </div>

        </div>

        <style>
        /* The Modal (background) */
        .modal {
          display: none; /* Hidden by default */
          position: fixed; /* Stay in place */
          z-index: 2; /* Sit on top */
          left: 0;
          top: 0;
          width: 100%; /* Full width */
          height: 100%; /* Full height */
          overflow: auto; /* Enable scroll if needed */
          background-color: rgb(0,0,0); /* Fallback color */
          background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }
        
        /* Modal Content/Box */
        .modal-content {
          background-color: #fefefe;
          margin: 15% auto; /* 15% from the top and centered */
          padding: 20px;
          border: 1px solid #888;
          border-radius: 10px;
          height: 80%;
          width: 60%; /* Could be more or less, depending on screen size */
        }
        
        /* The Close Button */
        .close {
          color: #aaa;
          float: right;
          font-size: 28px;
          font-weight: bold;
        }
        
        .close:hover,
        .close:focus {
          color: black;
          text-decoration: none;
          cursor: pointer;
        }
        </style>
        
        <script>
        var modal = document.getElementById("myModal");
        var form  = document.getElementById("registrationForm");
        var check = document.getElementById("checkbox");
        var btn   = document.getElementById("myOtherBtn");
        var span  = document.getElementsByClassName("close")[0];

        form.addEventListener("submit", function (event) {
            event.preventDefault();
            modal.style.display = "block";
        });

        if (checkbox.checked){
            btn.onclick = function(){
                form.submit();
            }
        }

        span.onclick = function() {
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
        </script> 

    </div>
</body>
</html>
